{% extends 'base.html' %}

{% block title %}Supprimer {{ object.nom }} - Shop360{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card border-danger">
            <div class="card-header bg-danger text-white">
                <h5 class="card-title mb-0">
                    <i class="bi bi-exclamation-triangle"></i> Confirmation de Suppression
                </h5>
            </div>
            <div class="card-body">
                <div class="text-center mb-4">
                    {% if object.image %}
                    <img src="{{ object.image.url }}" alt="{{ object.nom }}" class="img-thumbnail mb-3"
                        style="max-width: 150px;">
                    {% endif %}
                    <h4>{{ object.nom }}</h4>
                    <p class="text-muted">{{ object.categorie.nom }}</p>
                </div>

                <div class="alert alert-warning">
                    <i class="bi bi-exclamation-triangle"></i>
                    <strong>Attention !</strong> Cette action est irréversible.
                </div>

                <p>Êtes-vous sûr de vouloir supprimer ce produit ? Cette action supprimera également :</p>
                <ul>
                    <li>Tous les mouvements de stock associés</li>
                    <li>L'historique des ventes de ce produit</li>
                    <li>Les données statistiques</li>
                </ul>

                <div class="row mt-4">
                    <div class="col-md-6">
                        <strong>Stock actuel:</strong> {{ object.quantite_stock }} unités<br>
                        <strong>Prix de vente:</strong> {{ object.prix_vente }}FCFA<br>
                        <strong>Statut:</strong>
                        {% if object.actif %}
                        <span class="badge bg-success">Actif</span>
                        {% else %}
                        <span class="badge bg-secondary">Inactif</span>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <form method="post" class="d-inline">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">
                        <i class="bi bi-trash"></i> Oui, Supprimer
                    </button>
                </form>
                <a href="{% url 'produits:detail' object.pk %}" class="btn btn-secondary">
                    <i class="bi bi-x-circle"></i> Annuler
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}